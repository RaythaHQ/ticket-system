@page "/admin/settings/webhooks/{id}/delete"
@model App.Web.Areas.Admin.Pages.Webhooks.Delete

@{
    var pageTitle = "Delete webhook";
    Layout = "SidebarLayout";
    ViewData["Title"] = pageTitle;
    ViewData["ActiveMenu"] = "Webhooks";
    ViewData["ExpandSettingsMenu"] = true;

    BackLinkOptions back = new BackLinkOptions
    {
        Page = RouteNames.Webhooks.Index
    };
}

<div>
    <div class="row mb-4">
        <partial name="_Partials/PageHeading" model='ViewData["Title"]' />
        <div class="col-xxl-7 col-xl-8 col-lg-9 col-md-12">
            <div class="card border-0 shadow mb-4">
                <div class="card-body">
                    @(await Html.PartialAsync("_Partials/BackToList", back))
                    <div class="py-4">
                        <div class="alert alert-danger">
                            <h5 class="alert-heading">Are you sure you want to delete this webhook?</h5>
                            <p class="mb-0">This action cannot be undone. All delivery logs for this webhook will also be deleted.</p>
                        </div>

                        <dl class="row mt-4">
                            <dt class="col-sm-3">Name</dt>
                            <dd class="col-sm-9">@Model.Webhook.Name</dd>

                            <dt class="col-sm-3">URL</dt>
                            <dd class="col-sm-9"><code>@Model.Webhook.Url</code></dd>

                            <dt class="col-sm-3">Trigger</dt>
                            <dd class="col-sm-9">@Model.Webhook.TriggerTypeLabel</dd>
                        </dl>

                        <form asp-page="@RouteNames.Webhooks.Delete" asp-route-id="@Model.Webhook.Id" method="post" class="mt-4">
                            <button type="submit" class="btn btn-danger">Delete Webhook</button>
                            <a asp-page="@RouteNames.Webhooks.Index" class="btn btn-outline-secondary ms-2">Cancel</a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
